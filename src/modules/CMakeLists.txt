# Copyright: (C) 2010 RobotCub Consortium
# Authors: Lorenzo Natale
# CopyPolicy: Released under the terms of the GNU GPL v2.0.

add_subdirectory(ctpService)
add_subdirectory(learningMachine)
add_subdirectory(cartesianInterfaceControl)
add_subdirectory(positionDirectControl)
add_subdirectory(velocityControl)
add_subdirectory(velocityObserver)
add_subdirectory(wholeBodyDynamics)
add_subdirectory(gravityCompensator)
add_subdirectory(skinManager)
add_subdirectory(objectsPropertiesCollector)

if(ICUB_USE_OpenCV)
    add_subdirectory(camCalib)
    add_subdirectory(camCalibWithPose)
    add_subdirectory(dualCamCalib)
    add_subdirectory(actionsRenderingEngine)
    add_subdirectory(motionCUT)
    add_subdirectory(pf3dTracker)

    if(ICUB_USE_GSL)
        add_subdirectory(templatePFTracker)
    else(ICUB_USE_GSL)
        message(STATUS "GSL not found/selected, skipping templatePFTracker")
    endif(ICUB_USE_GSL)

    if(ICUB_OpenCV_LEGACY)
        message(STATUS "OpenCV legacy detected, skipping lumaChroma")
        message(STATUS "OpenCV legacy detected, skipping pf3dBottomup")
        # put hereafter modules that rely on old versions of OpenCV declared as legacy
    else(ICUB_OpenCV_LEGACY)
        add_subdirectory(lumaChroma)
        add_subdirectory(pf3dBottomup)
    endif(ICUB_OpenCV_LEGACY)
else(ICUB_USE_OpenCV)
    message(STATUS "OpenCV not found/selected, skipping camCalib")
    message(STATUS "OpenCV not found/selected, skipping actionsRenderingEngine")
    message(STATUS "OpenCV not found/selected, skipping motionCUT")
    message(STATUS "OpenCV not found/selected, skipping lumaChroma")
    message(STATUS "OpenCV not found/selected, skipping pf3dTracker")
    message(STATUS "OpenCV not found/selected, skipping templatePFTracker")
    message(STATUS "OpenCV not found/selected, skipping pf3dBottomup")
endif(ICUB_USE_OpenCV)

if(ICUB_USE_IPOPT)
    add_subdirectory(iKinGazeCtrl)
    add_subdirectory(iKinCartesianSolver)
else(ICUB_USE_IPOPT)
    message(STATUS "IPOPT not found/selected, skipping iKinGazeCtrl")
    message(STATUS "IPOPT not found/selected, skipping iKinCartesianSolver")
endif(ICUB_USE_IPOPT)
